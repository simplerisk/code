/*
 Highstock JS v9.3.3 (2022-02-01)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Pawe Fus

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/indicators/bollinger-bands",["highcharts","highcharts/modules/stock"],function(g){a(g);a.Highcharts=g;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function g(a,f,d,g){a.hasOwnProperty(f)||(a[f]=g.apply(null,d))}a=a?a._modules:{};g(a,"Stock/Indicators/MultipleLinesComposition.js",[a["Core/Series/SeriesRegistry.js"],
a["Core/Utilities.js"]],function(a,f){var d=a.seriesTypes.sma,g=f.defined,t=f.error,u=f.merge,k;(function(f){function p(b){var c,a=[];b=b||this.points;if(this.fillGraph&&this.nextPoints){if((c=d.prototype.getGraphPath.call(this,this.nextPoints))&&c.length){c[0][0]="L";a=d.prototype.getGraphPath.call(this,b);c=c.slice(0,a.length);for(var h=c.length-1;0<=h;h--)a.push(c[h])}}else a=d.prototype.getGraphPath.apply(this,arguments);return a}function v(){var b=this,c=b.linesApiNames,e=b.areaLinesNames,h=
b.points,l=b.options,f=b.graph,v={options:{gapSize:l.gapSize}},n=[],q=b.getTranslatedLinesNames(b.pointValKey),m=h.length,p;q.forEach(function(b,c){for(n[c]=[];m--;)p=h[m],n[c].push({x:p.x,plotX:p.plotX,plotY:p[b],isNull:!g(p[b])});m=h.length});if(this.userOptions.fillColor&&e.length){var k=q.indexOf(x(e[0]));k=n[k];e=1===e.length?h:n[q.indexOf(x(e[1]))];q=b.color;b.points=e;b.nextPoints=k;b.color=this.userOptions.fillColor;b.options=u(h,v);b.graph=b.area;b.fillGraph=!0;a.seriesTypes.sma.prototype.drawGraph.call(b);
b.area=b.graph;delete b.nextPoints;delete b.fillGraph;b.color=q}c.forEach(function(c,a){n[a]?(b.points=n[a],l[c]?b.options=u(l[c].styles,v):t('Error: "There is no '+c+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),b.graph=b["graph"+c],d.prototype.drawGraph.call(b),b["graph"+c]=b.graph):t('Error: "'+c+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")});b.points=h;
b.options=l;b.graph=f;d.prototype.drawGraph.call(b)}function e(b){var c=[];(this.pointArrayMap||[]).forEach(function(a){a!==b&&c.push(x(a))});return c}function x(b){return"plot"+b.charAt(0).toUpperCase()+b.slice(1)}function n(b){var c=[];(this.pointArrayMap||[]).forEach(function(a){c.push(b[a])});return c}function z(){var b=this,c=b.pointArrayMap,a=[],e;a=b.getTranslatedLinesNames();d.prototype.translate.apply(b,arguments);b.points.forEach(function(n){c.forEach(function(c,d){e=n[c];b.dataModify&&
(e=b.dataModify.modifyValue(e));null!==e&&(n[a[d]]=b.yAxis.toPixels(e,!0))})})}var k=[],A=["bottomLine"],B=["top","bottom"],C=["top"];f.compose=function(b){if(-1===k.indexOf(b)){k.push(b);var c=b.prototype;c.linesApiNames=c.linesApiNames||A.slice();c.pointArrayMap=c.pointArrayMap||B.slice();c.pointValKey=c.pointValKey||"top";c.areaLinesNames=c.areaLinesNames||C.slice();c.drawGraph=v;c.getGraphPath=p;c.toYData=n;c.translate=z;c.getTranslatedLinesNames=e}return b}})(k||(k={}));return k});g(a,"Stock/Indicators/BB/BBIndicator.js",
[a["Stock/Indicators/MultipleLinesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,f,d){var g=this&&this.__extends||function(){var a=function(d,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var d in e)e.hasOwnProperty(d)&&(a[d]=e[d])};return a(d,e)};return function(d,e){function f(){this.constructor=d}a(d,e);d.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)}}(),t=f.seriesTypes.sma,
u=d.extend,k=d.isArray,w=d.merge;d=function(a){function d(){var e=null!==a&&a.apply(this,arguments)||this;e.data=void 0;e.options=void 0;e.points=void 0;return e}g(d,a);d.prototype.init=function(){f.seriesTypes.sma.prototype.init.apply(this,arguments);this.options=w({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)};d.prototype.getValues=function(a,d){var e=d.period,g=d.standardDeviation,p=a.xData,t=(a=a.yData)?a.length:0,u=[],v=[],b=[],c;if(!(p.length<
e)){var x=k(a[0]);for(c=e;c<=t;c++){var h=p.slice(c-e,c);var l=a.slice(c-e,c);var r=f.seriesTypes.sma.prototype.getValues.call(this,{xData:h,yData:l},d);h=r.xData[0];r=r.yData[0];for(var w=0,y=l.length,q=0;q<y;q++){var m=(x?l[q][d.index]:l[q])-r;w+=m*m}m=Math.sqrt(w/(y-1));l=r+g*m;m=r-g*m;u.push([h,l,r,m]);v.push(h);b.push([l,r,m])}return{values:u,xData:v,yData:b}}};d.defaultOptions=w(t.defaultOptions,{params:{period:20,standardDeviation:2,index:3},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},
topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Top: {point.top}<br/>Middle: {point.middle}<br/>Bottom: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"}});return d}(t);u(d.prototype,{areaLinesNames:["top","bottom"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle",nameComponents:["period","standardDeviation"],linesApiNames:["topLine","bottomLine"]});a.compose(d);
f.registerSeriesType("bb",d);"";return d});g(a,"masters/indicators/bollinger-bands.src.js",[],function(){})});
//# sourceMappingURL=bollinger-bands.js.map